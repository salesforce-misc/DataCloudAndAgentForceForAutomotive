<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 03-07-2025
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template> 
    <template if:true={isModalOpen}>
        <section role="dialog" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container" > 
                <!-- Modal Header -->

                <header class="slds-modal__header" style="background-color: #0b0b0b !important; border-radius: 5px;">
                    <h4 class="slds-text-heading_small" style="color: white;">Schedule Appointment</h4>
                    <lightning-button-icon icon-name="utility:close" alternative-text="Close"
                        class="slds-modal__close" onclick={closeModal}></lightning-button-icon>
                </header>
                
                <!-- Modal Body -->
                <div class="slds-modal__content slds-p-around_medium"  style="background-color: #f4f4f4;
                box-shadow: var(--slds-c-modal-shadow, 0 2px 3px 0 rgba(0, 0, 0, 0.16));">                    
                    <lightning-input 
                        label="First Name"
                        data-field="firstName"
                        value={selectedfirstName}
                        onchange={handleFirstNameChange}
                        required>
                    </lightning-input>
                    <lightning-input 
                        label="Last Name"
                        data-field="lastName"
                        value={selectedlastName}
                        onchange={handleLastNameChange}
                        required>
                    </lightning-input>
                    <lightning-input 
                        label="Email Address"
                        data-field="emailAddress"
                        value={selectedemailAddress}
                        onchange={handleEmailChange}
                        required>
                    </lightning-input>
                    <lightning-input type="datetime"  value={selectedDateTime}
                        onchange={handleDateSelection} required>
                    </lightning-input>
                </div>

                <template if:true={emptyDate}>
                    <div class="slds-theme_error">
                        <lightning-icon icon-name="utility:error" variant="inverse" size="small"></lightning-icon>
                        <span class="slds-p-left_xx-small">Please Fill in all the Fields</span>
                    </div>
                </template>
                <!-- Modal Footer -->
                <footer class="slds-modal__footer" style="background-color: #f4f4f4;
                box-shadow: var(--slds-c-modal-shadow, 0 2px 3px 0 rgba(0, 0, 0, 0.16));border-radius:initial;">
                    <button class="custom-button" onclick={handleSubmit}>Submit</button> 
                </footer>
            </div>
        </section>
       
    </template>

    <div class="spinner-container">
        <template if:true={spinner}>
            <lightning-spinner alternative-text="Loading" variant="inverse"></lightning-spinner>
        </template>
    </div>

    <template if:true={successModal}>
        <section role="dialog" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <!-- Modal Header -->
                    <header class="slds-modal__header">
                        <h2 class="slds-text-heading_medium" style="color: white;">Thank-You</h2>
                        <lightning-button-icon icon-name="utility:close" alternative-text="Close"
                            class="slds-modal__close" onclick={smallcloseModal}></lightning-button-icon>
                    </header>
                    <!-- Modal Body -->
                    <div class="slds-modal__content slds-p-around_medium">
                        <h3>Service Appointment {appointmentNumber} has been created successfully for Date <lightning-formatted-date-time value={SelectedDateTime} year="numeric" month="numeric" day="numeric" hour="2-digit"
                                minute="2-digit" ></lightning-formatted-date-time>, and a confirmation email has been sent to you.</h3>
                    </div>
                </div>
        </section>
                    
    </template>
</template>